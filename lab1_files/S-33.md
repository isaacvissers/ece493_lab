# UC-33 Scenario Narratives — Pay via Credit Card for a Conference Ticket

This document provides fully dressed scenario narratives for the **main success scenario** and **each alternative path (extension)** in **UC-33: Pay via credit card**.

---

## Main Success Scenario Narrative (Happy Path)

An attendee wants to purchase a conference ticket and completes the payment using a credit card. The attendee logs into the Conference Management System (CMS) and navigates to conference registration or checkout. The attendee selects the desired ticket type and reviews the total cost.

The attendee chooses **Pay via Credit Card**, and the CMS displays a secure payment form requesting required details such as cardholder name, card number, expiry date, CVV, and billing information if needed. The attendee enters valid credit card details and submits the payment.

The CMS sends the payment request to the configured payment gateway for authorization (and capture if immediate capture is used). The payment gateway processes the request through the card network and returns an approval response.

After approval, the CMS records the payment as successful, updates the order/registration status to **Paid/Confirmed**, and generates a receipt or transaction reference. The system displays a confirmation screen to the attendee and sends a confirmation email or in-app notification confirming the ticket purchase.

The attendee now has a confirmed conference ticket and can attend the conference.

---

## Alternative Path Narrative — 5a: Attendee Cancels Payment Before Submission

The attendee reaches the payment page but decides not to complete payment. Instead of submitting the credit card form, the attendee clicks **Cancel**, navigates back, or closes the payment window.

The CMS stops the payment process and returns the attendee to the checkout or registration page. No payment request is sent to the gateway, and no successful payment record is created.

The attendee’s registration remains unpaid and unconfirmed, and the attendee may resume payment later if desired.

---

## Alternative Path Narrative — 6a: Card Details Invalid (Format/Required Fields)

The attendee enters credit card details into the payment form but makes a mistake, such as leaving a required field blank or entering a card number in an invalid format.

Before sending the request to the payment gateway, the CMS validates the input. The system highlights invalid or missing fields and displays an error message instructing the attendee to correct the information.

The attendee updates the fields with valid card details and resubmits. Once corrected, the payment proceeds normally through the main success scenario.

---

## Alternative Path Narrative — 7a: Payment Declined by Issuer

The attendee enters valid-looking card details and submits the payment. The CMS sends the payment request to the payment gateway, which forwards it to the issuing bank for authorization.

The issuer declines the transaction due to reasons such as insufficient funds, card restrictions, expired card, or suspected fraud. The gateway returns a decline response to CMS.

The CMS displays a clear decline message to the attendee and does not confirm the ticket purchase. The attendee remains unpaid/unregistered (or unconfirmed) and is offered the option to retry payment using another card or payment method.

---

## Alternative Path Narrative — 7b: Payment Gateway Error or Unavailable

The attendee submits the payment form, but the payment gateway is unavailable or returns an error due to service outage, timeout, or connectivity failure.

The CMS receives an error response and informs the attendee that payment could not be completed at this time. The system does not confirm the ticket purchase and does not mark the registration as paid.

The CMS logs the gateway failure for troubleshooting. The attendee may retry later when the gateway service is restored.

---

## Alternative Path Narrative — 7c: 3-D Secure / Additional Authentication Required (Optional)

The attendee submits payment details and the payment gateway determines that additional authentication is required (for example, 3-D Secure verification).

The CMS redirects the attendee to the authentication step, such as a bank verification screen or secure confirmation prompt. The attendee completes the required authentication successfully.

After authentication succeeds, the payment gateway continues processing the transaction and returns an approval response. The CMS then proceeds to record payment success and confirm the ticket as in the main success scenario.

If the attendee fails authentication or cancels the verification step, the payment is not completed. The CMS returns the attendee to checkout and indicates that payment failed, allowing the attendee to retry.

---

## Alternative Path Narrative — 8a: Database Write Fails After Payment Approval

The attendee submits payment, and the payment gateway returns an approval response. The CMS attempts to record the successful payment and update the registration status to **Paid/Confirmed**.

During this step, the CMS encounters a database failure and cannot save the updated payment/registration record. The system displays an error message indicating that confirmation could not be completed.

The CMS logs the failure and flags the transaction for reconciliation so administrators can ensure the payment is properly linked to the registration. The system does not display a confirmed ticket unless persistence succeeds, or it may show a “Pending confirmation” status if supported.

The attendee may need to contact conference support if the confirmation is not resolved automatically.

---

## Alternative Path Narrative — 10a: Confirmation Notification Fails After Payment is Recorded

The attendee completes payment successfully and the CMS records the transaction and confirms the ticket purchase.

After confirmation, the system attempts to send a receipt or confirmation notification via email or in-app messaging. The notification service fails (for example, email delivery is down).

Even though the notification fails, the payment remains recorded and the attendee’s registration stays **Paid/Confirmed**. The CMS logs the notification failure and may retry sending it later.

The attendee can still verify their ticket status within CMS by viewing their registration details.

---

## Alternative Path Narrative — 2a: Total Amount is $0 (Free Ticket)

The attendee selects a conference ticket option that has no cost (for example, free attendance or waived fees). When the attendee proceeds to checkout, the CMS calculates the total amount due as $0.

Because no payment is required, the system bypasses the credit card payment step entirely. The CMS confirms the registration immediately, marks it as **Confirmed**, and displays a confirmation message to the attendee.

The attendee receives confirmation via the usual channel (in-app and/or email) and is registered for the conference without being charged.

