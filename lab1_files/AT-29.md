# Acceptance Test Suite — UC-29 Receive Final Schedule for an Accepted Paper

## Scope
Validate that an author of an accepted paper can receive and view the **final published schedule** so they know when/where they present, and that CMS:
- provides schedule details (time + room) for accepted papers after publication,
- delivers schedule notification via configured channels (in-app and/or email),
- handles cases where schedule is not yet published,
- handles notification failures without blocking in-app access,
- enforces authentication and authorization for schedule access,
- handles accepted papers that are not scheduled (missing assignment),
- handles publication failures safely.

Covers UC-29 extensions (1a, 5a, 6a, 7a, 6b, 2a).

## Assumptions / Notes
- “Final schedule” means schedule has been marked **Published** (not just draft).
- The author can view schedule via **My Submissions** and/or **Schedule** page once published.
- Whether all co-authors or only submitting author receive notifications is not specified; adjust expected outcomes to match your policy.

---

## Test Data
- **Author (accepted paper)**: `author1@example.com`
- **Co-author** (optional): `author2@example.com`
- **Non-associated user**: `authorX@example.com`
- **Admin/editor**: `admin1@example.com` / `editor1@example.com`
- Conferences:
  - `CONF-06` has a **published schedule**
  - `CONF-07` has **no published schedule** (draft only or none)
- Papers:
  - `PAPER-300` accepted and scheduled in `CONF-06` (Room A, 10:00–10:30)
  - `PAPER-301` accepted and scheduled in `CONF-06` (Room B, 11:00–11:30)
  - `PAPER-302` accepted but **unscheduled** in `CONF-06` (missing assignment)
- Failure simulations:
  - Notification service outage
  - Schedule publication failure (DB outage / publish action fails)

---

# Test Cases

## AT-UC29-01 — After schedule is published, author can view time/room for their accepted paper (Happy Path)
**Objective:** Ensure published schedule is visible to rightful author.  
**Preconditions:** `CONF-06` schedule is published; `PAPER-300` is accepted and scheduled; author1 logged in.  
**Steps:**
1. Log in as author1.
2. Navigate to **My Submissions** (or **Schedule**).
3. Open `PAPER-300` details (or locate it in schedule view).
**Expected Results:**
- `PAPER-300` shows a presentation **time** and **room** (e.g., Room A, 10:00–10:30).
- The schedule shown is marked **Published** or otherwise indicated as final.
- No “pending schedule” messaging is shown for this conference.

---

## AT-UC29-02 — Author receives schedule notification when enabled (Email/In-app) (If applicable)
**Objective:** Validate delivery of schedule notice.  
**Preconditions:** Notifications enabled; schedule is published for `CONF-06`.  
**Steps:**
1. Publish schedule (or trigger the schedule release event).
2. Check author1 notification channel:
   - In-app notifications list, and/or
   - Email inbox (test mailbox or mail sandbox).
**Expected Results:**
- Author receives a notification referencing their accepted paper and includes the schedule details (time + room) or a link to view them.
- Notification content does not leak other authors’ private data (beyond public schedule if applicable).

---

## AT-UC29-03 — Schedule not published: author sees “Schedule not available yet” (Extension 1a)
**Objective:** Ensure correct behavior before publication.  
**Preconditions:** `CONF-07` has no published schedule; author has accepted paper in `CONF-07`.  
**Steps:**
1. Log in as author1.
2. Navigate to schedule/submission view for `CONF-07`.
**Expected Results:**
- System displays “Schedule not available yet” / “Pending schedule” message.
- Time/room assignments are not shown as final.
- No schedule notification is sent for `CONF-07`.

---

## AT-UC29-04 — Notification failure does not prevent author from viewing schedule in-app (Extension 5a)
**Objective:** Ensure resilience when notifications fail.  
**Preconditions:** Schedule published for `CONF-06`; simulate notification service outage.  
**Steps:**
1. Trigger schedule notifications (publish event).
2. Confirm notification sending fails.
3. Log in as author1 and open schedule/submission details for `PAPER-300`.
**Expected Results:**
- Author can still view time/room schedule details in CMS.
- Notification failure is logged for admin review.
- No schedule data loss occurs.

---

## AT-UC29-05 — Author must authenticate to view schedule in-app (Extension 6a)
**Objective:** Ensure protected access requires login.  
**Preconditions:** Schedule published for `CONF-06`.  
**Steps:**
1. Log out (or use an incognito browser).
2. Attempt to open schedule view for `CONF-06` or direct link from email.
3. Log in when prompted.
**Expected Results:**
- System prompts for login.
- After login, system redirects to the relevant schedule/submission view.
- Schedule details are displayed correctly.

---

## AT-UC29-06 — Accepted but unscheduled paper is clearly flagged and guidance provided (Extension 7a)
**Objective:** Ensure missing assignments are visible and actionable.  
**Preconditions:** `PAPER-302` is accepted but has no time/room assignment; schedule published for `CONF-06`.  
**Steps:**
1. Log in as author1.
2. View schedule/submission details for `PAPER-302`.
**Expected Results:**
- System displays schedule status as **Unscheduled** (or equivalent).
- System provides guidance to contact organizer/admin/editor.
- System flags the missing assignment for admin/editor attention (if such workflow exists).

---

## AT-UC29-07 — Author cannot view schedule details for conferences/papers they are not associated with (Extension 6b)
**Objective:** Enforce authorization boundary.  
**Preconditions:** authorX has no association with `PAPER-300`/`CONF-06`.  
**Steps:**
1. Log in as authorX.
2. Attempt to access `PAPER-300` schedule detail view (direct URL) or restricted schedule page.
**Expected Results:**
- Access denied / authorization error shown (unless schedule is intentionally public; if public, ensure only public schedule info is shown).
- No private submission-specific data is exposed.
- Attempt is logged (if logging exists).

---

## AT-UC29-08 — Schedule publication failure prevents schedule from being released (Extension 2a)
**Objective:** Ensure authors are not shown final schedule when publish fails.  
**Preconditions:** Simulate publish failure during admin’s publication attempt for `CONF-06` (e.g., DB outage).  
**Steps:**
1. Admin/editor attempts to publish schedule.
2. Confirm publish action fails.
3. Author logs in and attempts to view schedule.
**Expected Results:**
- Author continues to see “Schedule not available yet” / non-final state.
- No schedule notification is sent.
- Admin/editor sees clear publish failure error and system logs incident.

---

# Exit Criteria (Definition of Done for UC-29)
UC-29 is accepted when:
- Authors of accepted papers can view final schedule details (time + room) after publication (AT-UC29-01), and
- Notifications work when enabled and do not leak data (AT-UC29-02), and
- Before publication, schedule remains unavailable as final (AT-UC29-03), and
- Notification failures do not block in-app access (AT-UC29-04), and
- Authentication and authorization rules are enforced (AT-UC29-05, AT-UC29-07), and
- Unscheduled accepted papers are clearly flagged (AT-UC29-06), and
- Publish failures prevent release and are handled safely (AT-UC29-08).
