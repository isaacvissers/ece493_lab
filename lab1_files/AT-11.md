# Acceptance Test Suite — UC-11 Validate Paper Submission Fields

## Scope
Validate that CMS performs early validation on paper submission fields to catch errors before final submission, specifically:
- required fields are not blank,
- contact email is valid,
- manuscript file is present and has an accepted type (PDF, Word, LaTeX),
and that the system blocks final submission with clear error messages when validation fails.

Covers UC-11 extensions (2a, 3a, 4a, 4b, 5a, 2b).

## Assumptions / Notes
- This suite focuses on the validations explicitly mentioned in the user story (blanks, email format, file type).  
- File size validation (≤7MB) is covered elsewhere (e.g., UC-09) and is not required here unless implemented as part of the same validation step.
- If “Save Draft” bypasses final validations, draft tests apply; otherwise skip the draft-bypass expectations.

---

## Test Data
Valid metadata (example):
- Author names: `Alice Author; Bob Coauthor`
- Affiliations: `University of Alberta`
- Contact email: `alice.author@example.com`
- Abstract: non-empty
- Keywords: `conference, cms, submission`
- Main source: `Original research`

Invalid data:
- Invalid email: `alice.author@`
- Missing abstract: empty
- Missing keywords: empty
- Missing author names: empty

Files:
- Valid PDF: `valid.pdf`
- Invalid type: `invalid.txt` (or `invalid.png`)

---

# Test Cases

## AT-UC11-01 — Valid submission passes validations and proceeds (Happy Path)
**Objective:** Confirm validation succeeds when all fields are correct.  
**Preconditions:** Author logged in; on submission form; valid file available.  
**Steps:**
1. Fill all required fields with valid metadata.
2. Upload `valid.pdf`.
3. Click **Submit**.
**Expected Results:**
- No validation errors shown.
- Submission is allowed to proceed to recording/confirmation step.
- User receives confirmation of successful submission (or next step in workflow).

---

## AT-UC11-02 — Missing required field blocks submission (Extension 2a)
**Objective:** Ensure no blanks for required fields.  
**Preconditions:** Author logged in.  
**Steps:**
1. Fill all required fields except leave abstract blank.
2. Upload `valid.pdf`.
3. Click **Submit**.
**Expected Results:**
- Submission is blocked.
- Error message identifies missing abstract (or missing required fields).
- User remains on submission page; no final submission recorded.

---

## AT-UC11-03 — Invalid email blocks submission (Extension 3a)
**Objective:** Ensure email format validation is enforced.  
**Preconditions:** Author logged in.  
**Steps:**
1. Fill required fields with valid metadata except contact email = `alice.author@`.
2. Upload `valid.pdf`.
3. Click **Submit**.
**Expected Results:**
- Submission is blocked.
- Error message indicates invalid email format.
- No final submission recorded.

---

## AT-UC11-04 — Missing file blocks submission (Extension 4a)
**Objective:** Ensure file is required for final submission.  
**Preconditions:** Author logged in.  
**Steps:**
1. Fill required fields with valid metadata.
2. Do not upload a file.
3. Click **Submit**.
**Expected Results:**
- Submission is blocked.
- Error message indicates manuscript file is required.
- No final submission recorded.

---

## AT-UC11-05 — Invalid file type blocks submission (Extension 4b)
**Objective:** Ensure only accepted file types are allowed.  
**Preconditions:** Author logged in.  
**Steps:**
1. Fill required fields with valid metadata.
2. Upload `invalid.txt`.
3. Click **Submit**.
**Expected Results:**
- Submission is blocked.
- Error message lists accepted formats (PDF, Word, LaTeX).
- No final submission recorded.

---

## AT-UC11-06 — Multiple errors are shown together (Extension 5a)
**Objective:** Ensure system reports multiple issues clearly in one attempt.  
**Preconditions:** Author logged in.  
**Steps:**
1. Leave abstract blank.
2. Set contact email to invalid `alice.author@`.
3. Upload `invalid.txt`.
4. Click **Submit**.
**Expected Results:**
- Submission is blocked.
- System displays all relevant errors (missing abstract, invalid email, invalid file type) in a single response or clearly highlights all failing fields.
- No final submission recorded.

---

## AT-UC11-07 — Correcting errors allows submission to proceed
**Objective:** Confirm user can recover after validation failures.  
**Preconditions:** Start from any failing test (AT-UC11-02 to AT-UC11-06).  
**Steps:**
1. Correct missing/invalid fields (fill abstract, fix email).
2. Replace invalid file with `valid.pdf`.
3. Click **Submit** again.
**Expected Results:**
- Validation errors clear.
- Submission proceeds to recording/confirmation step.

---

## AT-UC11-08 — Save Draft allows partial/incomplete entries (Extension 2b, if allowed)
**Objective:** Confirm draft saving does not require all final validations.  
**Preconditions:** Author logged in; draft saving is supported and is more permissive than final submission.  
**Steps:**
1. Leave required fields incomplete and/or upload no file.
2. Click **Save Draft**.
**Expected Results:**
- Draft is saved successfully (or system stores partial state).
- System does not require all final validation rules to pass for draft saving.
- Reopening draft shows saved partial state.

---

# Exit Criteria (Definition of Done for UC-11)
UC-11 is accepted when:
- Valid submissions pass validation and proceed (AT-UC11-01), and
- Missing required fields, invalid email, missing file, and invalid file type each block submission with clear errors (AT-UC11-02 to AT-UC11-05), and
- Multiple validation failures are reported clearly (AT-UC11-06), and
- Users can correct errors and submit successfully (AT-UC11-07), and
- Draft saving behavior matches intended design (AT-UC11-08, if applicable).
