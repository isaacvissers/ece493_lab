# Acceptance Test Suite — UC-10 Enter Manuscript Metadata

## Scope
Validate that an author can enter and save complete manuscript metadata including:
- author names,
- affiliations,
- contact information,
- abstract,
- keywords,
- main source,
and that CMS validates required fields and formats, saving metadata to the database.

Covers all UC-10 extensions (3a, 5a, 6a, 6b, 7a).

## Assumptions / Notes
- Exact field constraints (abstract length, keyword count/format) are not specified; tests assume CMS enforces consistent validation and provides clear error messages.
- Metadata may be saved either as part of draft saving or final submission workflow.
- “Main source” is treated as a required field as stated in the user story.

---

## Test Data (Example Values)
Valid metadata:
- **Author names**: `Alice Author; Bob Coauthor`
- **Affiliations**: `University of Alberta`
- **Contact email**: `alice.author@example.com`
- **Contact phone (if required)**: `780-555-1234`
- **Abstract**: `This paper presents a conference management workflow...`
- **Keywords**: `conference, management, submission`
- **Main source**: `Original research` (or selection from dropdown)

Invalid examples:
- **Invalid email**: `alice.author@`
- **Invalid keywords**: empty string or too many keywords (if limited)

---

# Test Cases

## AT-UC10-01 — Author can view and edit all metadata fields (Happy Path setup)
**Objective:** Confirm metadata fields are available on the submission form.  
**Preconditions:** Author is logged in and on submission form (new submission or draft edit).  
**Steps:**
1. Open manuscript submission form.
2. Locate metadata section.
**Expected Results:**
- Fields for author names, affiliations, contact info, abstract, keywords, and main source are visible and editable.

---

## AT-UC10-02 — Saving complete valid metadata succeeds (Happy Path)
**Objective:** Validate end-to-end metadata entry and persistence.  
**Preconditions:** Author logged in; submission is editable.  
**Steps:**
1. Enter valid values in all required metadata fields.
2. Click **Save** or **Submit** (depending on UI flow).
**Expected Results:**
- System validates required fields are present.
- System validates formats (e.g., email).
- System stores metadata in database linked to submission.
- Success confirmation is displayed.
- Reloading the form shows the saved metadata values.

---

## AT-UC10-03 — Save draft stores partially completed metadata (Extension 3a)
**Objective:** Confirm draft saving preserves partial progress.  
**Preconditions:** Author logged in; draft feature enabled.  
**Steps:**
1. Enter only some metadata fields (e.g., author names + abstract).
2. Click **Save Draft**.
3. Reopen the draft.
**Expected Results:**
- Draft is saved successfully.
- Previously entered metadata persists when draft is reopened.
- Missing fields remain empty (not auto-filled incorrectly).

---

## AT-UC10-04 — Missing required fields blocks final save/submit (Extension 5a)
**Objective:** Ensure required fields cannot be omitted when finalizing.  
**Preconditions:** Author logged in.  
**Steps:**
1. Leave one required field blank (e.g., abstract).
2. Attempt to **Save** or **Submit** as final (not draft).
**Expected Results:**
- System rejects request.
- Error message identifies missing required fields.
- Metadata is not saved as a finalized/complete record.

---

## AT-UC10-05 — Invalid contact information is rejected (Extension 6a)
**Objective:** Ensure contact validation is enforced.  
**Preconditions:** Author logged in.  
**Steps:**
1. Enter valid metadata except contact email = `alice.author@`.
2. Attempt to save/submit.
**Expected Results:**
- System rejects request.
- Error message indicates invalid contact information/email format.
- Metadata is not saved as final.

---

## AT-UC10-06 — Invalid keywords are rejected (Extension 6b)
**Objective:** Ensure keyword validation is enforced.  
**Preconditions:** Author logged in.  
**Steps:**
1. Enter valid metadata except keywords field is invalid (e.g., empty or invalid format).
2. Attempt to save/submit.
**Expected Results:**
- System rejects request.
- Error message indicates keywords are invalid.
- Metadata is not saved as final.

---

## AT-UC10-07 — Database failure prevents saving metadata (Extension 7a)
**Objective:** Ensure safe failure if persistence fails.  
**Preconditions:** Author logged in; simulate DB write failure/timeout.  
**Steps:**
1. Enter valid complete metadata.
2. Attempt to save/submit.
**Expected Results:**
- System displays error indicating metadata could not be saved at this time.
- Failure is logged for administrator review (verify logs/monitoring event).
- Metadata changes are not committed.

---

# Exit Criteria (Definition of Done for UC-10)
UC-10 is accepted when:
- AT-UC10-02 passes (valid metadata saved successfully), and
- Required-field validation works (AT-UC10-04), and
- Format validation works for contact info and keywords (AT-UC10-05, AT-UC10-06), and
- Draft saving preserves partial progress (AT-UC10-03), and
- DB failures fail safely without committing invalid/incomplete metadata (AT-UC10-07).
