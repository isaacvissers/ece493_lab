# Acceptance Test Suite — UC-32 View Conference Price List on the CMS Webpage

## Scope
Validate that a guest or registered user can view the conference price list on the CMS webpage before paying, and that CMS:
- publishes and displays the current price list in a readable format,
- handles “not available yet” state correctly,
- handles missing/invalid pricing entries gracefully,
- handles rendering failures safely (no sensitive error leakage),
- enforces policy-dependent access restrictions (guest vs logged-in),
- remains usable under load/performance constraints.

Covers UC-32 extensions (2a, 3a, 4a, 2b, 1a).

## Assumptions / Notes
- Price list content (ticket categories, early/regular, student/professional) is conference-configurable.
- If access is restricted, anonymous users should be redirected to login or shown a clear access message.
- Public-facing pages must not expose stack traces or internal error details.

---

## Test Data
- Conferences:
  - `CONF-13` has a **published price list** (complete)
  - `CONF-14` has **no published price list**
  - `CONF-15` has a **price list with missing/invalid entries**
- Users:
  - **Guest user**: anonymous (not logged in)
  - **Registered user**: `user1@example.com`
- Example price list (CONF-13):
  - Student: $100
  - Professional: $250
  - Early-bird: $200 (if applicable)
  - Workshop add-on: $50 (if applicable)
- Failure simulations:
  - Rendering/template failure on price list page
  - High traffic / slow page load / timeout

---

# Test Cases

## AT-UC32-01 — Guest user can open price list page and see published prices (Happy Path)
**Objective:** Verify public access (when allowed) and correct rendering.  
**Preconditions:** `CONF-13` price list published; guest access allowed (policy).  
**Steps:**
1. As anonymous user, open CMS homepage/landing page.
2. Click **Pricing/Fees** or navigate to **Price List** page for `CONF-13`.
**Expected Results:**
- Price list page loads successfully.
- Prices are displayed clearly (e.g., table/list).
- Display reflects the published pricing data (correct values/categories).

---

## AT-UC32-02 — Logged-in user can view price list page and see published prices
**Objective:** Verify registered-user access works.  
**Preconditions:** `CONF-13` price list published.  
**Steps:**
1. Log in as `user1@example.com`.
2. Navigate to **Price List** page for `CONF-13`.
**Expected Results:**
- Price list page loads successfully.
- Pricing matches published values/categories.
- No missing/blank required fields on the page.

---

## AT-UC32-03 — Price list not published: system shows “not available yet” (Extension 2a)
**Objective:** Ensure graceful absence handling.  
**Preconditions:** `CONF-14` has no published price list.  
**Steps:**
1. As guest or logged-in user, navigate to **Price List** page for `CONF-14`.
**Expected Results:**
- User sees clear message: “Price list not available yet” (or equivalent).
- System does not display empty/garbled pricing.
- No outdated pricing is shown as current.

---

## AT-UC32-04 — Missing/invalid entries are labeled or omitted; page remains readable (Extension 3a)
**Objective:** Ensure partial pricing data does not break display.  
**Preconditions:** `CONF-15` has missing/invalid entries (e.g., workshop fee missing, negative value).  
**Steps:**
1. Navigate to **Price List** for `CONF-15`.
2. Inspect entries with missing/invalid values.
**Expected Results (Acceptable outcomes):**
- Valid prices are displayed correctly.
- Missing values are shown as “TBD” or omitted per policy.
- Invalid values are not shown as misleading prices.
- Page remains readable and does not crash.
- Issue is logged for admin review (if logging exists).

---

## AT-UC32-05 — Rendering failure shows friendly error and does not expose internal details (Extension 4a)
**Objective:** Validate safe public error handling.  
**Preconditions:** Simulate rendering/template error on price list page.  
**Steps:**
1. Attempt to open **Price List** page.
2. Trigger rendering error.
**Expected Results:**
- User sees friendly error message (“Pricing cannot be displayed right now”).
- No stack trace, internal system messages, or sensitive details are exposed.
- Error is logged for administrators.

---

## AT-UC32-06 — Access restricted policy: guest user is redirected or blocked; logged-in user can view (Extension 2b, if applicable)
**Objective:** Validate access control when pricing is restricted.  
**Preconditions:** Policy requires login to view price list.  
**Steps:**
1. As guest, open **Price List** page.
2. Observe system behavior.
3. Log in as `user1@example.com` and retry.
**Expected Results:**
- Guest is redirected to login/registration or shown clear access message.
- After login, the user can view the price list successfully.
- No pricing content is revealed to unauthorized guests (if restricted).

---

## AT-UC32-07 — High traffic: page remains responsive and loads, or times out gracefully (Extension 1a)
**Objective:** Validate performance degradation behavior.  
**Preconditions:** Simulate high traffic/slow backend.  
**Steps:**
1. Open **Price List** page under load conditions.
2. Observe page behavior and completion time.
**Expected Results:**
- Page shows loading indicator and remains responsive.
- Price list loads within acceptable time, OR
- If timeout occurs, user sees friendly timeout message.
- Performance issue is logged for investigation.

---

# Exit Criteria (Definition of Done for UC-32)
UC-32 is accepted when:
- Users can view published price lists clearly (AT-UC32-01, AT-UC32-02), and
- Missing or unpublished price lists are handled cleanly (AT-UC32-03, AT-UC32-04), and
- Rendering failures do not leak sensitive details (AT-UC32-05), and
- Access restrictions work correctly if enabled (AT-UC32-06), and
- Performance under load is acceptable or fails gracefully (AT-UC32-07).
